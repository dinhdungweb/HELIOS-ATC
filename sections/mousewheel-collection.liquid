{% comment %}
  Section: Mousewheel Collection
  - Tạo landing page cho bộ sưu tập mới với hiệu ứng mousewheel control
  - Hỗ trợ hiển thị cả video và hình ảnh
  - Thiết kế tương tự như trang web YSL
{% endcomment %}

<!-- Mousewheel Collection CSS -->
{{ 'mousewheel-collection.css' | asset_url | stylesheet_tag }}

<div class="mousewheel-collection section-{{ section.id }} header-overlap-section needs-alt-logo" 
     id="mousewheel-collection-{{ section.id }}"
     data-height="{{ section.settings.height }}">
  <div class="mousewheel-swiper-container swiper">
    <div class="swiper-wrapper">
      {% for block in section.blocks %}
        <div class="swiper-slide" {{ block.shopify_attributes }}>
          {% case block.type %}
            {% when 'image' %}
              <div class="slide-content image-slide">
                {% assign desktop_image = block.settings.image %}
                {% assign mobile_image = block.settings.image_mobile | default: block.settings.image %}
                
                {% if desktop_image != blank or mobile_image != blank %}
                  <div class="image-wrapper">
                    <!-- Desktop Image -->
                    {% if desktop_image != blank %}
                      <img 
                        src="{{ desktop_image | img_url: 'master' }}"
                        alt="{{ desktop_image.alt | escape }}"
                        loading="lazy"
                        class="full-width-image desktop-media"
                      >
                    {% endif %}
                    
                    <!-- Mobile Image -->
                    {% if mobile_image != blank and mobile_image != desktop_image %}
                      <img 
                        src="{{ mobile_image | img_url: 'master' }}"
                        alt="{{ mobile_image.alt | escape }}"
                        loading="lazy"
                        class="full-width-image mobile-media"
                      >
                    {% endif %}
                    
                    {% if block.settings.heading != blank or block.settings.text != blank %}
                      <div class="slide-text-overlay">
                        {% if block.settings.heading != blank %}
                          <h2 class="slide-heading">{{ block.settings.heading }}</h2>
                        {% endif %}
                        {% if block.settings.text != blank %}
                          <div class="slide-text">{{ block.settings.text }}</div>
                        {% endif %}
                        {% if block.settings.button_label != blank and block.settings.button_link != blank %}
                          <a href="{{ block.settings.button_link }}" class="slide-button">
                            {{ block.settings.button_label }}
                          </a>
                        {% endif %}
                      </div>
                    {% endif %}
                  </div>
                {% else %}
                  <div class="placeholder-container">
                    {{ 'image' | placeholder_svg_tag: 'placeholder-svg' }}
                  </div>
                {% endif %}
              </div>
            {% when 'video' %}
              <div class="slide-content video-slide">
                {% assign desktop_video = block.settings.video %}
                {% assign mobile_video = block.settings.video_mobile | default: block.settings.video %}
                {% assign desktop_video_url = block.settings.video_url %}
                {% assign mobile_video_url = block.settings.video_url_mobile | default: block.settings.video_url %}
                
                <!-- Desktop Video -->
                <div class="desktop-media">
                  {% if desktop_video != blank %}
                    <!-- Shopify uploaded video - Desktop -->
                    <div class="video-wrapper">
                      <video 
                        playsinline 
                        loop 
                        muted 
                        autoplay
                        class="full-width-video"
                        id="shopify-video-desktop-{{ block.id }}"
                      >
                        {% for source in desktop_video.sources %}
                          <source src="{{ source.url }}" type="{{ source.mime_type }}">
                        {% endfor %}
                      </video>
                    </div>
                  {% elsif desktop_video_url != blank %}
                    <!-- External video URL - Desktop -->
                    <div class="video-wrapper">
                      {% if desktop_video_url.type == 'youtube' %}
                        <iframe 
                          src="https://www.youtube.com/embed/{{ desktop_video_url.id }}?autoplay=1&controls=0&mute=1&loop=1&playlist={{ desktop_video_url.id }}&rel=0&enablejsapi=1" 
                          frameborder="0" 
                          allow="autoplay; encrypted-media" 
                          allowfullscreen 
                          class="full-width-video"
                          id="youtube-desktop-{{ block.id }}"
                        ></iframe>
                      {% elsif desktop_video_url.type == 'vimeo' %}
                        <iframe 
                          src="https://player.vimeo.com/video/{{ desktop_video_url.id }}?background=1&autoplay=1&loop=1&byline=0&title=0" 
                          frameborder="0" 
                          webkitallowfullscreen 
                          mozallowfullscreen 
                          allowfullscreen 
                          class="full-width-video"
                          id="vimeo-desktop-{{ block.id }}"
                        ></iframe>
                      {% endif %}
                    </div>
                  {% else %}
                    <div class="placeholder-container">
                      {{ 'video' | placeholder_svg_tag: 'placeholder-svg' }}
                    </div>
                  {% endif %}
                </div>
                
                <!-- Mobile Video -->
                <div class="mobile-media">
                  {% if mobile_video != blank and mobile_video != desktop_video %}
                    <!-- Shopify uploaded video - Mobile -->
                    <div class="video-wrapper">
                      <video 
                        playsinline 
                        loop 
                        muted 
                        autoplay
                        class="full-width-video"
                        id="shopify-video-mobile-{{ block.id }}"
                      >
                        {% for source in mobile_video.sources %}
                          <source src="{{ source.url }}" type="{{ source.mime_type }}">
                        {% endfor %}
                      </video>
                    </div>
                  {% elsif mobile_video_url != blank and mobile_video_url != desktop_video_url %}
                    <!-- External video URL - Mobile -->
                    <div class="video-wrapper">
                      {% if mobile_video_url.type == 'youtube' %}
                        <iframe 
                          src="https://www.youtube.com/embed/{{ mobile_video_url.id }}?autoplay=1&controls=0&mute=1&loop=1&playlist={{ mobile_video_url.id }}&rel=0&enablejsapi=1" 
                          frameborder="0" 
                          allow="autoplay; encrypted-media" 
                          allowfullscreen 
                          class="full-width-video"
                          id="youtube-mobile-{{ block.id }}"
                        ></iframe>
                      {% elsif mobile_video_url.type == 'vimeo' %}
                        <iframe 
                          src="https://player.vimeo.com/video/{{ mobile_video_url.id }}?background=1&autoplay=1&loop=1&byline=0&title=0" 
                          frameborder="0" 
                          webkitallowfullscreen 
                          mozallowfullscreen 
                          allowfullscreen 
                          class="full-width-video"
                          id="vimeo-mobile-{{ block.id }}"
                        ></iframe>
                      {% endif %}
                    </div>
                  {% endif %}
                </div>
                
                {% if block.settings.heading != blank or block.settings.text != blank %}
                  <div class="slide-text-overlay">
                    {% if block.settings.heading != blank %}
                      <h2 class="slide-heading">{{ block.settings.heading }}</h2>
                    {% endif %}
                    {% if block.settings.text != blank %}
                      <div class="slide-text">{{ block.settings.text }}</div>
                    {% endif %}
                    {% if block.settings.button_label != blank and block.settings.button_link != blank %}
                      <a href="{{ block.settings.button_link }}" class="slide-button">
                        {{ block.settings.button_label }}
                      </a>
                    {% endif %}
                  </div>
                {% endif %}
              </div>
            {% when 'banner' %}
              <div class="slide-content dual-banner-slide">
                {% assign open_new_tab = block.settings.open_new_tab %}
                
                <div class="dual-banner-wrapper">
                  <!-- Left Banner -->
                  <div class="banner-half banner-left">
                    {% assign desktop_banner_left = block.settings.banner_image_left %}
                    {% assign mobile_banner_left = block.settings.banner_image_left_mobile | default: block.settings.banner_image_left %}
                    {% assign banner_link_left = block.settings.banner_link_left %}
                    
                    {% if desktop_banner_left != blank or mobile_banner_left != blank %}
                      <div class="banner-wrapper">
                        {% if banner_link_left != blank %}
                          <a href="{{ banner_link_left }}" class="banner-link-overlay" {% if open_new_tab %}target="_blank" rel="noopener"{% endif %}>
                        {% endif %}
                        
                        <!-- Desktop Banner Left -->
                        {% if desktop_banner_left != blank %}
                          <img 
                            src="{{ desktop_banner_left | img_url: 'master' }}"
                            alt="{{ desktop_banner_left.alt | escape }}"
                            loading="lazy"
                            class="full-width-banner desktop-media"
                          >
                        {% endif %}
                        
                        <!-- Mobile Banner Left -->
                        {% if mobile_banner_left != blank and mobile_banner_left != desktop_banner_left %}
                          <img 
                            src="{{ mobile_banner_left | img_url: 'master' }}"
                            alt="{{ mobile_banner_left.alt | escape }}"
                            loading="lazy"
                            class="full-width-banner mobile-media"
                          >
                        {% endif %}
                        
                        {% if banner_link_left != blank %}
                          </a>
                        {% endif %}
                        
                        <!-- Left Banner Overlay -->
                        {% if block.settings.heading_left != blank or block.settings.text_left != blank or block.settings.button_label_left != blank %}
                          <div class="banner-text-overlay text-position-center">
                            <div class="banner-overlay-bg"></div>
                            <div class="banner-content">
                              {% if block.settings.heading_left != blank %}
                                <h2 class="banner-heading">{{ block.settings.heading_left }}</h2>
                              {% endif %}
                              {% if block.settings.text_left != blank %}
                                <div class="banner-text">{{ block.settings.text_left }}</div>
                              {% endif %}
                              {% if block.settings.button_label_left != blank and block.settings.button_link_left != blank %}
                                <a href="{{ block.settings.button_link_left }}" class="banner-button" {% if open_new_tab %}target="_blank" rel="noopener"{% endif %}>
                                  {{ block.settings.button_label_left }}
                                </a>
                              {% endif %}
                            </div>
                          </div>
                        {% endif %}
                      </div>
                    {% else %}
                      <div class="placeholder-container">
                        {{ 'image' | placeholder_svg_tag: 'placeholder-svg' }}
                        <div class="placeholder-text">Banner Trái</div>
                      </div>
                    {% endif %}
                  </div>
                  
                  <!-- Right Banner -->
                  <div class="banner-half banner-right">
                    {% assign desktop_banner_right = block.settings.banner_image_right %}
                    {% assign mobile_banner_right = block.settings.banner_image_right_mobile | default: block.settings.banner_image_right %}
                    {% assign banner_link_right = block.settings.banner_link_right %}
                    
                    {% if desktop_banner_right != blank or mobile_banner_right != blank %}
                      <div class="banner-wrapper">
                        {% if banner_link_right != blank %}
                          <a href="{{ banner_link_right }}" class="banner-link-overlay" {% if open_new_tab %}target="_blank" rel="noopener"{% endif %}>
                        {% endif %}
                        
                        <!-- Desktop Banner Right -->
                        {% if desktop_banner_right != blank %}
                          <img 
                            src="{{ desktop_banner_right | img_url: 'master' }}"
                            alt="{{ desktop_banner_right.alt | escape }}"
                            loading="lazy"
                            class="full-width-banner desktop-media"
                          >
                        {% endif %}
                        
                        <!-- Mobile Banner Right -->
                        {% if mobile_banner_right != blank and mobile_banner_right != desktop_banner_right %}
                          <img 
                            src="{{ mobile_banner_right | img_url: 'master' }}"
                            alt="{{ mobile_banner_right.alt | escape }}"
                            loading="lazy"
                            class="full-width-banner mobile-media"
                          >
                        {% endif %}
                        
                        {% if banner_link_right != blank %}
                          </a>
                        {% endif %}
                        
                        <!-- Right Banner Overlay -->
                        {% if block.settings.heading_right != blank or block.settings.text_right != blank or block.settings.button_label_right != blank %}
                          <div class="banner-text-overlay text-position-center">
                            <div class="banner-overlay-bg"></div>
                            <div class="banner-content">
                              {% if block.settings.heading_right != blank %}
                                <h2 class="banner-heading">{{ block.settings.heading_right }}</h2>
                              {% endif %}
                              {% if block.settings.text_right != blank %}
                                <div class="banner-text">{{ block.settings.text_right }}</div>
                              {% endif %}
                              {% if block.settings.button_label_right != blank and block.settings.button_link_right != blank %}
                                <a href="{{ block.settings.button_link_right }}" class="banner-button" {% if open_new_tab %}target="_blank" rel="noopener"{% endif %}>
                                  {{ block.settings.button_label_right }}
                                </a>
                              {% endif %}
                            </div>
                          </div>
                        {% endif %}
                      </div>
                    {% else %}
                      <div class="placeholder-container">
                        {{ 'image' | placeholder_svg_tag: 'placeholder-svg' }}
                        <div class="placeholder-text">Banner Phải</div>
                      </div>
                    {% endif %}
                  </div>
                </div>
              </div>
            {% when 'slideshow' %}
              <div class="slide-content slideshow-slide">
                <div class="slideshow-container" data-autoplay="{{ block.settings.autoplay }}" data-speed="{{ block.settings.autoplay_speed | times: 1000 }}">
                  <div class="slideshow-wrapper">
                    {% assign slide_count = 0 %}
                    {% assign has_slides = false %}
                    
                    <!-- Slide 1 -->
                    {% if block.settings.slide1_image_desktop != blank or block.settings.slide1_image_mobile != blank %}
                      {% assign slide_count = slide_count | plus: 1 %}
                      {% assign has_slides = true %}
                      <div class="slideshow-item{% if slide_count == 1 %} active{% endif %}" data-slide="{{ slide_count }}">
                        {% assign desktop_image_1 = block.settings.slide1_image_desktop %}
                        {% assign mobile_image_1 = block.settings.slide1_image_mobile | default: block.settings.slide1_image_desktop %}
                        {% assign slide_link_1 = block.settings.slide1_link %}
                        
                        {% if slide_link_1 != blank %}
                          <a href="{{ slide_link_1 }}" class="slideshow-link" {% if block.settings.open_new_tab %}target="_blank" rel="noopener"{% endif %}>
                        {% endif %}
                        
                        <div class="slideshow-image-container">
                          <!-- Desktop Image -->
                          {% if desktop_image_1 != blank %}
                            <img 
                              src="{{ desktop_image_1 | img_url: 'master' }}"
                              alt="{{ desktop_image_1.alt | escape }}"
                              loading="lazy"
                              class="slideshow-image desktop-media"
                            >
                          {% endif %}
                          
                          <!-- Mobile Image -->
                          {% if mobile_image_1 != blank and mobile_image_1 != desktop_image_1 %}
                            <img 
                              src="{{ mobile_image_1 | img_url: 'master' }}"
                              alt="{{ mobile_image_1.alt | escape }}"
                              loading="lazy"
                              class="slideshow-image mobile-media"
                            >
                          {% endif %}
                        </div>
                        
                        {% if slide_link_1 != blank %}
                          </a>
                        {% endif %}
                        
                        <!-- Slide 1 Content -->
                        {% if block.settings.slide1_heading != blank or block.settings.slide1_text != blank %}
                          <div class="slideshow-content text-{{ block.settings.text_position }}" 
                              style="color: {{ block.settings.text_color }};">
                            <div class="slideshow-overlay" 
                                style="background-color: {{ block.settings.overlay_color }}; opacity: {{ block.settings.overlay_opacity | divided_by: 100.0 }};"></div>
                            <div class="slideshow-text-content">
                              {% if block.settings.slide1_heading != blank %}
                                <h2 class="slideshow-heading">{{ block.settings.slide1_heading }}</h2>
                              {% endif %}
                              {% if block.settings.slide1_text != blank %}
                                <div class="slideshow-text">{{ block.settings.slide1_text }}</div>
                              {% endif %}
                              {% if block.settings.slide1_button_label != blank and block.settings.slide1_link != blank %}
                                <a href="{{ block.settings.slide1_link }}" class="slideshow-button" {% if block.settings.open_new_tab %}target="_blank" rel="noopener"{% endif %}>
                                  {{ block.settings.slide1_button_label }}
                                </a>
                              {% endif %}
                            </div>
                          </div>
                        {% endif %}
                      </div>
                    {% endif %}
                    
                    <!-- Slide 2 -->
                    {% if block.settings.slide2_image_desktop != blank or block.settings.slide2_image_mobile != blank %}
                      {% assign slide_count = slide_count | plus: 1 %}
                      {% assign has_slides = true %}
                      <div class="slideshow-item{% if slide_count == 1 and block.settings.slide1_image_desktop == blank and block.settings.slide1_image_mobile == blank %} active{% endif %}" data-slide="{{ slide_count }}">
                        {% assign desktop_image_2 = block.settings.slide2_image_desktop %}
                        {% assign mobile_image_2 = block.settings.slide2_image_mobile | default: block.settings.slide2_image_desktop %}
                        {% assign slide_link_2 = block.settings.slide2_link %}
                        
                        {% if slide_link_2 != blank %}
                          <a href="{{ slide_link_2 }}" class="slideshow-link" {% if block.settings.open_new_tab %}target="_blank" rel="noopener"{% endif %}>
                        {% endif %}
                        
                        <div class="slideshow-image-container">
                          <!-- Desktop Image -->
                          {% if desktop_image_2 != blank %}
                            <img 
                              src="{{ desktop_image_2 | img_url: 'master' }}"
                              alt="{{ desktop_image_2.alt | escape }}"
                              loading="lazy"
                              class="slideshow-image desktop-media"
                            >
                          {% endif %}
                          
                          <!-- Mobile Image -->
                          {% if mobile_image_2 != blank and mobile_image_2 != desktop_image_2 %}
                            <img 
                              src="{{ mobile_image_2 | img_url: 'master' }}"
                              alt="{{ mobile_image_2.alt | escape }}"
                              loading="lazy"
                              class="slideshow-image mobile-media"
                            >
                          {% endif %}
                        </div>
                        
                        {% if slide_link_2 != blank %}
                          </a>
                        {% endif %}
                        
                        <!-- Slide 2 Content -->
                        {% if block.settings.slide2_heading != blank or block.settings.slide2_text != blank %}
                          <div class="slideshow-content text-{{ block.settings.text_position }}" 
                              style="color: {{ block.settings.text_color }};">
                            <div class="slideshow-overlay" 
                                style="background-color: {{ block.settings.overlay_color }}; opacity: {{ block.settings.overlay_opacity | divided_by: 100.0 }};"></div>
                            <div class="slideshow-text-content">
                              {% if block.settings.slide2_heading != blank %}
                                <h2 class="slideshow-heading">{{ block.settings.slide2_heading }}</h2>
                              {% endif %}
                              {% if block.settings.slide2_text != blank %}
                                <div class="slideshow-text">{{ block.settings.slide2_text }}</div>
                              {% endif %}
                              {% if block.settings.slide2_button_label != blank and block.settings.slide2_link != blank %}
                                <a href="{{ block.settings.slide2_link }}" class="slideshow-button" {% if block.settings.open_new_tab %}target="_blank" rel="noopener"{% endif %}>
                                  {{ block.settings.slide2_button_label }}
                                </a>
                              {% endif %}
                            </div>
                          </div>
                        {% endif %}
                      </div>
                    {% endif %}
                    
                    <!-- Slide 3 -->
                    {% if block.settings.slide3_image_desktop != blank or block.settings.slide3_image_mobile != blank %}
                      {% assign slide_count = slide_count | plus: 1 %}
                      {% assign has_slides = true %}
                      <div class="slideshow-item{% if slide_count == 1 and block.settings.slide1_image_desktop == blank and block.settings.slide1_image_mobile == blank and block.settings.slide2_image_desktop == blank and block.settings.slide2_image_mobile == blank %} active{% endif %}" data-slide="{{ slide_count }}">
                        {% assign desktop_image_3 = block.settings.slide3_image_desktop %}
                        {% assign mobile_image_3 = block.settings.slide3_image_mobile | default: block.settings.slide3_image_desktop %}
                        {% assign slide_link_3 = block.settings.slide3_link %}
                        
                        {% if slide_link_3 != blank %}
                          <a href="{{ slide_link_3 }}" class="slideshow-link" {% if block.settings.open_new_tab %}target="_blank" rel="noopener"{% endif %}>
                        {% endif %}
                        
                        <div class="slideshow-image-container">
                          <!-- Desktop Image -->
                          {% if desktop_image_3 != blank %}
                            <img 
                              src="{{ desktop_image_3 | img_url: 'master' }}"
                              alt="{{ desktop_image_3.alt | escape }}"
                              loading="lazy"
                              class="slideshow-image desktop-media"
                            >
                          {% endif %}
                          
                          <!-- Mobile Image -->
                          {% if mobile_image_3 != blank and mobile_image_3 != desktop_image_3 %}
                            <img 
                              src="{{ mobile_image_3 | img_url: 'master' }}"
                              alt="{{ mobile_image_3.alt | escape }}"
                              loading="lazy"
                              class="slideshow-image mobile-media"
                            >
                          {% endif %}
                        </div>
                        
                        {% if slide_link_3 != blank %}
                          </a>
                        {% endif %}
                        
                        <!-- Slide 3 Content -->
                        {% if block.settings.slide3_heading != blank or block.settings.slide3_text != blank %}
                          <div class="slideshow-content text-{{ block.settings.text_position }}" 
                              style="color: {{ block.settings.text_color }};">
                            <div class="slideshow-overlay" 
                                style="background-color: {{ block.settings.overlay_color }}; opacity: {{ block.settings.overlay_opacity | divided_by: 100.0 }};"></div>
                            <div class="slideshow-text-content">
                              {% if block.settings.slide3_heading != blank %}
                                <h2 class="slideshow-heading">{{ block.settings.slide3_heading }}</h2>
                              {% endif %}
                              {% if block.settings.slide3_text != blank %}
                                <div class="slideshow-text">{{ block.settings.slide3_text }}</div>
                              {% endif %}
                              {% if block.settings.slide3_button_label != blank and block.settings.slide3_link != blank %}
                                <a href="{{ block.settings.slide3_link }}" class="slideshow-button" {% if block.settings.open_new_tab %}target="_blank" rel="noopener"{% endif %}>
                                  {{ block.settings.slide3_button_label }}
                                </a>
                              {% endif %}
                            </div>
                          </div>
                        {% endif %}
                      </div>
                    {% endif %}
                    
                    <!-- Slide 4 -->
                    {% if block.settings.slide4_image_desktop != blank or block.settings.slide4_image_mobile != blank %}
                      {% assign slide_count = slide_count | plus: 1 %}
                      {% assign has_slides = true %}
                      <div class="slideshow-item{% if slide_count == 1 and block.settings.slide1_image_desktop == blank and block.settings.slide1_image_mobile == blank and block.settings.slide2_image_desktop == blank and block.settings.slide2_image_mobile == blank and block.settings.slide3_image_desktop == blank and block.settings.slide3_image_mobile == blank %} active{% endif %}" data-slide="{{ slide_count }}">
                        {% assign desktop_image_4 = block.settings.slide4_image_desktop %}
                        {% assign mobile_image_4 = block.settings.slide4_image_mobile | default: block.settings.slide4_image_desktop %}
                        {% assign slide_link_4 = block.settings.slide4_link %}
                        
                        {% if slide_link_4 != blank %}
                          <a href="{{ slide_link_4 }}" class="slideshow-link" {% if block.settings.open_new_tab %}target="_blank" rel="noopener"{% endif %}>
                        {% endif %}
                        
                        <div class="slideshow-image-container">
                          <!-- Desktop Image -->
                          {% if desktop_image_4 != blank %}
                            <img 
                              src="{{ desktop_image_4 | img_url: 'master' }}"
                              alt="{{ desktop_image_4.alt | escape }}"
                              loading="lazy"
                              class="slideshow-image desktop-media"
                            >
                          {% endif %}
                          
                          <!-- Mobile Image -->
                          {% if mobile_image_4 != blank and mobile_image_4 != desktop_image_4 %}
                            <img 
                              src="{{ mobile_image_4 | img_url: 'master' }}"
                              alt="{{ mobile_image_4.alt | escape }}"
                              loading="lazy"
                              class="slideshow-image mobile-media"
                            >
                          {% endif %}
                        </div>
                        
                        {% if slide_link_4 != blank %}
                          </a>
                        {% endif %}
                        
                        <!-- Slide 4 Content -->
                        {% if block.settings.slide4_heading != blank or block.settings.slide4_text != blank %}
                          <div class="slideshow-content text-{{ block.settings.text_position }}" 
                              style="color: {{ block.settings.text_color }};">
                            <div class="slideshow-overlay" 
                                style="background-color: {{ block.settings.overlay_color }}; opacity: {{ block.settings.overlay_opacity | divided_by: 100.0 }};"></div>
                            <div class="slideshow-text-content">
                              {% if block.settings.slide4_heading != blank %}
                                <h2 class="slideshow-heading">{{ block.settings.slide4_heading }}</h2>
                              {% endif %}
                              {% if block.settings.slide4_text != blank %}
                                <div class="slideshow-text">{{ block.settings.slide4_text }}</div>
                              {% endif %}
                              {% if block.settings.slide4_button_label != blank and block.settings.slide4_link != blank %}
                                <a href="{{ block.settings.slide4_link }}" class="slideshow-button" {% if block.settings.open_new_tab %}target="_blank" rel="noopener"{% endif %}>
                                  {{ block.settings.slide4_button_label }}
                                </a>
                              {% endif %}
                            </div>
                          </div>
                        {% endif %}
                      </div>
                    {% endif %}
                    
                    <!-- Slide 5 -->
                    {% if block.settings.slide5_image_desktop != blank or block.settings.slide5_image_mobile != blank %}
                      {% assign slide_count = slide_count | plus: 1 %}
                      {% assign has_slides = true %}
                      <div class="slideshow-item{% if slide_count == 1 and block.settings.slide1_image_desktop == blank and block.settings.slide1_image_mobile == blank and block.settings.slide2_image_desktop == blank and block.settings.slide2_image_mobile == blank and block.settings.slide3_image_desktop == blank and block.settings.slide3_image_mobile == blank and block.settings.slide4_image_desktop == blank and block.settings.slide4_image_mobile == blank %} active{% endif %}" data-slide="{{ slide_count }}">
                        {% assign desktop_image_5 = block.settings.slide5_image_desktop %}
                        {% assign mobile_image_5 = block.settings.slide5_image_mobile | default: block.settings.slide5_image_desktop %}
                        {% assign slide_link_5 = block.settings.slide5_link %}
                        
                        {% if slide_link_5 != blank %}
                          <a href="{{ slide_link_5 }}" class="slideshow-link" {% if block.settings.open_new_tab %}target="_blank" rel="noopener"{% endif %}>
                        {% endif %}
                        
                        <div class="slideshow-image-container">
                          <!-- Desktop Image -->
                          {% if desktop_image_5 != blank %}
                            <img 
                              src="{{ desktop_image_5 | img_url: 'master' }}"
                              alt="{{ desktop_image_5.alt | escape }}"
                              loading="lazy"
                              class="slideshow-image desktop-media"
                            >
                          {% endif %}
                          
                          <!-- Mobile Image -->
                          {% if mobile_image_5 != blank and mobile_image_5 != desktop_image_5 %}
                            <img 
                              src="{{ mobile_image_5 | img_url: 'master' }}"
                              alt="{{ mobile_image_5.alt | escape }}"
                              loading="lazy"
                              class="slideshow-image mobile-media"
                            >
                          {% endif %}
                        </div>
                        
                        {% if slide_link_5 != blank %}
                          </a>
                        {% endif %}
                        
                        <!-- Slide 5 Content -->
                        {% if block.settings.slide5_heading != blank or block.settings.slide5_text != blank %}
                          <div class="slideshow-content text-{{ block.settings.text_position }}" 
                              style="color: {{ block.settings.text_color }};">
                            <div class="slideshow-overlay" 
                                style="background-color: {{ block.settings.overlay_color }}; opacity: {{ block.settings.overlay_opacity | divided_by: 100.0 }};"></div>
                            <div class="slideshow-text-content">
                              {% if block.settings.slide5_heading != blank %}
                                <h2 class="slideshow-heading">{{ block.settings.slide5_heading }}</h2>
                              {% endif %}
                              {% if block.settings.slide5_text != blank %}
                                <div class="slideshow-text">{{ block.settings.slide5_text }}</div>
                              {% endif %}
                              {% if block.settings.slide5_button_label != blank and block.settings.slide5_link != blank %}
                                <a href="{{ block.settings.slide5_link }}" class="slideshow-button" {% if block.settings.open_new_tab %}target="_blank" rel="noopener"{% endif %}>
                                  {{ block.settings.slide5_button_label }}
                                </a>
                              {% endif %}
                            </div>
                          </div>
                        {% endif %}
                      </div>
                    {% endif %}
                    
                    <!-- Slide 6 -->
                    {% if block.settings.slide6_image_desktop != blank or block.settings.slide6_image_mobile != blank %}
                      {% assign slide_count = slide_count | plus: 1 %}
                      {% assign has_slides = true %}
                      <div class="slideshow-item{% if slide_count == 1 and block.settings.slide1_image_desktop == blank and block.settings.slide1_image_mobile == blank and block.settings.slide2_image_desktop == blank and block.settings.slide2_image_mobile == blank and block.settings.slide3_image_desktop == blank and block.settings.slide3_image_mobile == blank and block.settings.slide4_image_desktop == blank and block.settings.slide4_image_mobile == blank and block.settings.slide5_image_desktop == blank and block.settings.slide5_image_mobile == blank %} active{% endif %}" data-slide="{{ slide_count }}">
                        {% assign desktop_image_6 = block.settings.slide6_image_desktop %}
                        {% assign mobile_image_6 = block.settings.slide6_image_mobile | default: block.settings.slide6_image_desktop %}
                        {% assign slide_link_6 = block.settings.slide6_link %}
                        
                        {% if slide_link_6 != blank %}
                          <a href="{{ slide_link_6 }}" class="slideshow-link" {% if block.settings.open_new_tab %}target="_blank" rel="noopener"{% endif %}>
                        {% endif %}
                        
                        <div class="slideshow-image-container">
                          <!-- Desktop Image -->
                          {% if desktop_image_6 != blank %}
                            <img 
                              src="{{ desktop_image_6 | img_url: 'master' }}"
                              alt="{{ desktop_image_6.alt | escape }}"
                              loading="lazy"
                              class="slideshow-image desktop-media"
                            >
                          {% endif %}
                          
                          <!-- Mobile Image -->
                          {% if mobile_image_6 != blank and mobile_image_6 != desktop_image_6 %}
                            <img 
                              src="{{ mobile_image_6 | img_url: 'master' }}"
                              alt="{{ mobile_image_6.alt | escape }}"
                              loading="lazy"
                              class="slideshow-image mobile-media"
                            >
                          {% endif %}
                        </div>
                        
                        {% if slide_link_6 != blank %}
                          </a>
                        {% endif %}
                        
                        <!-- Slide 6 Content -->
                        {% if block.settings.slide6_heading != blank or block.settings.slide6_text != blank %}
                          <div class="slideshow-content text-{{ block.settings.text_position }}" 
                              style="color: {{ block.settings.text_color }};">
                            <div class="slideshow-overlay" 
                                style="background-color: {{ block.settings.overlay_color }}; opacity: {{ block.settings.overlay_opacity | divided_by: 100.0 }};"></div>
                            <div class="slideshow-text-content">
                              {% if block.settings.slide6_heading != blank %}
                                <h2 class="slideshow-heading">{{ block.settings.slide6_heading }}</h2>
                              {% endif %}
                              {% if block.settings.slide6_text != blank %}
                                <div class="slideshow-text">{{ block.settings.slide6_text }}</div>
                              {% endif %}
                              {% if block.settings.slide6_button_label != blank and block.settings.slide6_link != blank %}
                                <a href="{{ block.settings.slide6_link }}" class="slideshow-button" {% if block.settings.open_new_tab %}target="_blank" rel="noopener"{% endif %}>
                                  {{ block.settings.slide6_button_label }}
                                </a>
                              {% endif %}
                            </div>
                          </div>
                        {% endif %}
                      </div>
                    {% endif %}
                    
                    <!-- Slide 7 -->
                    {% if block.settings.slide7_image_desktop != blank or block.settings.slide7_image_mobile != blank %}
                      {% assign slide_count = slide_count | plus: 1 %}
                      {% assign has_slides = true %}
                      <div class="slideshow-item{% if slide_count == 1 and block.settings.slide1_image_desktop == blank and block.settings.slide1_image_mobile == blank and block.settings.slide2_image_desktop == blank and block.settings.slide2_image_mobile == blank and block.settings.slide3_image_desktop == blank and block.settings.slide3_image_mobile == blank and block.settings.slide4_image_desktop == blank and block.settings.slide4_image_mobile == blank and block.settings.slide5_image_desktop == blank and block.settings.slide5_image_mobile == blank and block.settings.slide6_image_desktop == blank and block.settings.slide6_image_mobile == blank %} active{% endif %}" data-slide="{{ slide_count }}">
                        {% assign desktop_image_7 = block.settings.slide7_image_desktop %}
                        {% assign mobile_image_7 = block.settings.slide7_image_mobile | default: block.settings.slide7_image_desktop %}
                        {% assign slide_link_7 = block.settings.slide7_link %}
                        
                        {% if slide_link_7 != blank %}
                          <a href="{{ slide_link_7 }}" class="slideshow-link" {% if block.settings.open_new_tab %}target="_blank" rel="noopener"{% endif %}>
                        {% endif %}
                        
                        <div class="slideshow-image-container">
                          <!-- Desktop Image -->
                          {% if desktop_image_7 != blank %}
                            <img 
                              src="{{ desktop_image_7 | img_url: 'master' }}"
                              alt="{{ desktop_image_7.alt | escape }}"
                              loading="lazy"
                              class="slideshow-image desktop-media"
                            >
                          {% endif %}
                          
                          <!-- Mobile Image -->
                          {% if mobile_image_7 != blank and mobile_image_7 != desktop_image_7 %}
                            <img 
                              src="{{ mobile_image_7 | img_url: 'master' }}"
                              alt="{{ mobile_image_7.alt | escape }}"
                              loading="lazy"
                              class="slideshow-image mobile-media"
                            >
                          {% endif %}
                        </div>
                        
                        {% if slide_link_7 != blank %}
                          </a>
                        {% endif %}
                        
                        <!-- Slide 7 Content -->
                        {% if block.settings.slide7_heading != blank or block.settings.slide7_text != blank %}
                          <div class="slideshow-content text-{{ block.settings.text_position }}" 
                              style="color: {{ block.settings.text_color }};">
                            <div class="slideshow-overlay" 
                                style="background-color: {{ block.settings.overlay_color }}; opacity: {{ block.settings.overlay_opacity | divided_by: 100.0 }};"></div>
                            <div class="slideshow-text-content">
                              {% if block.settings.slide7_heading != blank %}
                                <h2 class="slideshow-heading">{{ block.settings.slide7_heading }}</h2>
                              {% endif %}
                              {% if block.settings.slide7_text != blank %}
                                <div class="slideshow-text">{{ block.settings.slide7_text }}</div>
                              {% endif %}
                              {% if block.settings.slide7_button_label != blank and block.settings.slide7_link != blank %}
                                <a href="{{ block.settings.slide7_link }}" class="slideshow-button" {% if block.settings.open_new_tab %}target="_blank" rel="noopener"{% endif %}>
                                  {{ block.settings.slide7_button_label }}
                                </a>
                              {% endif %}
                            </div>
                          </div>
                        {% endif %}
                      </div>
                    {% endif %}
                    
                    <!-- Placeholder if no slides have images -->
                    {% unless has_slides %}
                      <div class="placeholder-container">
                        {{ 'image' | placeholder_svg_tag: 'placeholder-svg' }}
                        <div class="placeholder-text">Không có slide nào được cấu hình với hình ảnh</div>
                      </div>
                    {% endunless %}
                  </div>
                  
                  <!-- Navigation Dots -->
                  {% if block.settings.show_dots and has_slides %}
                    <div class="slideshow-dots">
                      {% for i in (1..slide_count) %}
                        <div class="slideshow-dot{% if forloop.first %} active{% endif %}" data-slide="{{ i }}"></div>
                      {% endfor %}
                    </div>
                  {% endif %}
                  
                  <!-- Navigation Arrows -->
                  {% if block.settings.show_arrows and has_slides %}
                    <div class="slideshow-arrows">
                      <div class="slideshow-arrow slideshow-prev">‹</div>
                      <div class="slideshow-arrow slideshow-next">›</div>
                    </div>
                  {% endif %}
                </div>
              </div>
          {% endcase %}
        </div>
      {% endfor %}
    </div>
    
    <!-- Pagination -->
    {% if section.settings.show_pagination %}
      <div class="swiper-pagination"></div>
    {% endif %}
    
    <!-- Navigation -->
    {% if section.settings.show_navigation %}
      <div class="swiper-button-next"></div>
      <div class="swiper-button-prev"></div>
    {% endif %}
  </div>
</div>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    // Wait for Swiper to be loaded
    if (typeof Swiper === 'undefined') {
      console.error('Swiper library not loaded');
      return;
    }
    
    const swiperContainer = document.querySelector('#mousewheel-collection-{{ section.id }} .mousewheel-swiper-container');
    
    if (swiperContainer) {
      const swiper = new Swiper(swiperContainer, {
        direction: 'vertical',
        slidesPerView: 1,
        spaceBetween: 0,
        speed: 1000,
        effect: 'slide',
        grabCursor: true,
        mousewheel: true,
        mousewheelControl: true,
        mousewheelReleaseOnEdges: true,
        mousewheelForceToAxis: true,
        mousewheelSensitivity: 1,
        keyboardControl: true,
        {% if section.settings.show_pagination %}
        pagination: '.swiper-pagination',
        paginationClickable: true,
        paginationDynamicBullets: true,
        {% endif %}
        {% if section.settings.show_navigation %}
        nextButton: '.swiper-button-next',
        prevButton: '.swiper-button-prev',
        {% endif %}
        onInit: function(swiper) {
          playCurrentSlideVideo(swiper);
        },
        onSlideChangeEnd: function(swiper) {
          playCurrentSlideVideo(swiper);
        },
        onResize: function(swiper) {
          swiper.update();
        }
      });
      
      function playCurrentSlideVideo(swiper) {
        try {
          // Pause all videos first (including Shopify uploaded videos)
          const allVideos = document.querySelectorAll('#mousewheel-collection-{{ section.id }} video');
          allVideos.forEach(video => {
            video.pause();
          });
          
          // Pause all YouTube videos
          const allYoutubeIframes = document.querySelectorAll('#mousewheel-collection-{{ section.id }} iframe[id^="youtube-"]');
          allYoutubeIframes.forEach(iframe => {
            if (iframe.contentWindow) {
              iframe.contentWindow.postMessage('{"event":"command","func":"pauseVideo","args":""}', '*');
            }
          });
          
          // Pause all Vimeo videos
          const allVimeoIframes = document.querySelectorAll('#mousewheel-collection-{{ section.id }} iframe[id^="vimeo-"]');
          allVimeoIframes.forEach(iframe => {
            if (iframe.contentWindow) {
              iframe.contentWindow.postMessage('{"method":"pause"}', '*');
            }
          });
          
          // Get current slide
          const currentSlide = swiper.slides[swiper.activeIndex];
          if (!currentSlide) return;
          
          // Play video if current slide has one (HTML5 video including Shopify uploaded)
          const video = currentSlide.querySelector('video');
          if (video) {
            video.currentTime = 0; // Reset to beginning
            video.play().catch(e => console.log('Video autoplay prevented:', e));
          }
          
          // Handle YouTube videos
          const youtubeIframe = currentSlide.querySelector('iframe[id^="youtube-"]');
          if (youtubeIframe && youtubeIframe.contentWindow) {
            youtubeIframe.contentWindow.postMessage('{"event":"command","func":"playVideo","args":""}', '*');
          }
          
          // Handle Vimeo videos
          const vimeoIframe = currentSlide.querySelector('iframe[id^="vimeo-"]');
          if (vimeoIframe && vimeoIframe.contentWindow) {
            vimeoIframe.contentWindow.postMessage('{"method":"play"}', '*');
          }
        } catch (error) {
          console.error('Error in playCurrentSlideVideo:', error);
        }
      }
      
      // Handle window resize
      window.addEventListener('resize', function() {
        swiper.update();
      });
    }
    
    // Initialize slideshows
    initSlideshows();
  });
  
  function initSlideshows() {
    const slideshows = document.querySelectorAll('#mousewheel-collection-{{ section.id }} .slideshow-container');
    
    slideshows.forEach(function(slideshow) {
      const autoplay = slideshow.dataset.autoplay === 'true';
      const speed = parseInt(slideshow.dataset.speed) || 5000;
      const slides = slideshow.querySelectorAll('.slideshow-item');
      const dots = slideshow.querySelectorAll('.slideshow-dot');
      const prevBtn = slideshow.querySelector('.slideshow-prev');
      const nextBtn = slideshow.querySelector('.slideshow-next');
      
      let currentSlide = 0;
      let autoplayInterval;
      
      function showSlide(index) {
        // Hide all slides
        slides.forEach(function(slide, i) {
          slide.classList.remove('active');
          if (dots[i]) {
            dots[i].classList.remove('active');
          }
        });
        
        // Show current slide
        if (slides[index]) {
          slides[index].classList.add('active');
          if (dots[index]) {
            dots[index].classList.add('active');
          }
        }
        
        currentSlide = index;
      }
      
      function nextSlide() {
        const next = (currentSlide + 1) % slides.length;
        showSlide(next);
      }
      
      function prevSlide() {
        const prev = (currentSlide - 1 + slides.length) % slides.length;
        showSlide(prev);
      }
      
      function startAutoplay() {
        if (autoplay && slides.length > 1) {
          autoplayInterval = setInterval(nextSlide, speed);
        }
      }
      
      function stopAutoplay() {
        if (autoplayInterval) {
          clearInterval(autoplayInterval);
        }
      }
      
      // Event listeners for dots
      dots.forEach(function(dot, index) {
        dot.addEventListener('click', function() {
          showSlide(index);
          stopAutoplay();
          startAutoplay();
        });
      });
      
      // Event listeners for arrows
      if (prevBtn) {
        prevBtn.addEventListener('click', function() {
          prevSlide();
          stopAutoplay();
          startAutoplay();
        });
      }
      
      if (nextBtn) {
        nextBtn.addEventListener('click', function() {
          nextSlide();
          stopAutoplay();
          startAutoplay();
        });
      }
      
      // Pause autoplay on hover
      slideshow.addEventListener('mouseenter', stopAutoplay);
      slideshow.addEventListener('mouseleave', startAutoplay);
      
      // Touch/Drag functionality
      let startX = 0;
      let startY = 0;
      let isDragging = false;
      let startTime = 0;
      
      function handleTouchStart(e) {
        const touch = e.touches ? e.touches[0] : e;
        startX = touch.clientX;
        startY = touch.clientY;
        startTime = Date.now();
        isDragging = true;
        stopAutoplay();
      }
      
      function handleTouchMove(e) {
        if (!isDragging) return;
        e.preventDefault(); // Prevent scrolling
      }
      
      function handleTouchEnd(e) {
        if (!isDragging) return;
        
        const touch = e.changedTouches ? e.changedTouches[0] : e;
        const endX = touch.clientX;
        const endY = touch.clientY;
        const endTime = Date.now();
        
        const deltaX = endX - startX;
        const deltaY = endY - startY;
        const deltaTime = endTime - startTime;
        
        // Check if it's a swipe (not just a tap)
        const minSwipeDistance = 50;
        const maxSwipeTime = 300;
        
        if (Math.abs(deltaX) > Math.abs(deltaY) && 
            Math.abs(deltaX) > minSwipeDistance && 
            deltaTime < maxSwipeTime) {
          
          if (deltaX > 0) {
            // Swipe right - go to previous slide
            prevSlide();
          } else {
            // Swipe left - go to next slide
            nextSlide();
          }
        }
        
        isDragging = false;
        startAutoplay();
      }
      
      // Add touch event listeners
      slideshow.addEventListener('touchstart', handleTouchStart, { passive: false });
      slideshow.addEventListener('touchmove', handleTouchMove, { passive: false });
      slideshow.addEventListener('touchend', handleTouchEnd, { passive: false });
      
      // Add mouse event listeners for desktop drag
      slideshow.addEventListener('mousedown', handleTouchStart);
      slideshow.addEventListener('mousemove', handleTouchMove);
      slideshow.addEventListener('mouseup', handleTouchEnd);
      slideshow.addEventListener('mouseleave', function() {
        if (isDragging) {
          isDragging = false;
          startAutoplay();
        }
      });
      
      // Prevent context menu on long press
      slideshow.addEventListener('contextmenu', function(e) {
        if (isDragging) {
          e.preventDefault();
        }
      });
      
      // Start autoplay
      startAutoplay();
    });
  }
</script>

{% schema %}
{
  "name": "Mousewheel Collection",
  "tag": "section",
  "class": "section",
  "settings": [
    {
      "type": "header",
      "content": "Cài đặt chung"
    },
    {
      "type": "select",
      "id": "height",
      "label": "Chiều cao section",
      "options": [
        {
          "value": "adapt",
          "label": "Tự động điều chỉnh theo nội dung"
        },
        {
          "value": "small",
          "label": "Nhỏ"
        },
        {
          "value": "medium",
          "label": "Vừa"
        },
        {
          "value": "large",
          "label": "Lớn"
        },
        {
          "value": "full",
          "label": "Toàn màn hình"
        }
      ],
      "default": "full"
    },
    {
      "type": "checkbox",
      "id": "show_pagination",
      "label": "Hiển thị chấm phân trang",
      "default": true
    },
    {
      "type": "checkbox",
      "id": "show_navigation",
      "label": "Hiển thị nút điều hướng",
      "default": true
    }
  ],
  "blocks": [
    {
      "type": "image",
      "name": "Hình ảnh",
      "settings": [
        {
          "type": "header",
          "content": "Hình ảnh Desktop"
        },
        {
          "type": "image_picker",
          "id": "image",
          "label": "Hình ảnh Desktop"
        },
        {
          "type": "header",
          "content": "Hình ảnh Mobile"
        },
        {
          "type": "image_picker",
          "id": "image_mobile",
          "label": "Hình ảnh Mobile",
          "info": "Nếu không chọn, sẽ sử dụng hình ảnh desktop"
        },
        {
          "type": "header",
          "content": "Nội dung"
        },
        {
          "type": "text",
          "id": "heading",
          "label": "Tiêu đề",
          "default": "Bộ sưu tập mới"
        },
        {
          "type": "richtext",
          "id": "text",
          "label": "Nội dung",
          "default": "<p>Mô tả ngắn về bộ sưu tập của bạn</p>"
        },
        {
          "type": "text",
          "id": "button_label",
          "label": "Nhãn nút",
          "default": "Xem thêm"
        },
        {
          "type": "url",
          "id": "button_link",
          "label": "Liên kết nút"
        }
      ]
    },
    {
      "type": "video",
      "name": "Video",
      "settings": [
        {
          "type": "header",
          "content": "Video Desktop"
        },
        {
          "type": "video",
          "id": "video",
          "label": "Video Desktop",
          "info": "Tải lên video hoặc chọn từ thư viện"
        },
        {
          "type": "video_url",
          "id": "video_url",
          "accept": ["youtube", "vimeo"],
          "label": "Video URL Desktop (tùy chọn)",
          "info": "YouTube hoặc Vimeo - sử dụng nếu không upload video"
        },
        {
          "type": "header",
          "content": "Video Mobile"
        },
        {
          "type": "video",
          "id": "video_mobile",
          "label": "Video Mobile",
          "info": "Video riêng cho mobile - nếu không chọn sẽ dùng video desktop"
        },
        {
          "type": "video_url",
          "id": "video_url_mobile",
          "accept": ["youtube", "vimeo"],
          "label": "Video URL Mobile (tùy chọn)",
          "info": "YouTube hoặc Vimeo cho mobile"
        },
        {
          "type": "header",
          "content": "Ảnh bìa"
        },
        {
          "type": "image_picker",
          "id": "video_cover",
          "label": "Ảnh bìa video Desktop (tùy chọn)",
          "info": "Sẽ sử dụng thumbnail mặc định nếu không chọn"
        },
        {
          "type": "image_picker",
          "id": "video_cover_mobile",
          "label": "Ảnh bìa video Mobile (tùy chọn)",
          "info": "Ảnh bìa riêng cho mobile"
        },
        {
          "type": "header",
          "content": "Nội dung"
        },
        {
          "type": "text",
          "id": "heading",
          "label": "Tiêu đề",
          "default": "Bộ sưu tập mới"
        },
        {
          "type": "richtext",
          "id": "text",
          "label": "Nội dung",
          "default": "<p>Mô tả ngắn về bộ sưu tập của bạn</p>"
        },
        {
          "type": "text",
          "id": "button_label",
          "label": "Nhãn nút",
          "default": "Xem thêm"
        },
        {
          "type": "url",
          "id": "button_link",
          "label": "Liên kết nút"
        }
      ]
    },
    {
      "type": "banner",
      "name": "Banner Đôi",
      "settings": [
        {
          "type": "header",
          "content": "Banner Trái"
        },
        {
          "type": "image_picker",
          "id": "banner_image_left",
          "label": "Hình ảnh Banner Trái (Desktop)"
        },
        {
          "type": "image_picker",
          "id": "banner_image_left_mobile",
          "label": "Hình ảnh Banner Trái (Mobile)",
          "info": "Nếu không chọn, sẽ sử dụng hình ảnh desktop"
        },
        {
          "type": "url",
          "id": "banner_link_left",
          "label": "Liên kết Banner Trái"
        },
        {
          "type": "text",
          "id": "heading_left",
          "label": "Tiêu đề Banner Trái",
          "default": "Banner Trái"
        },
        {
          "type": "richtext",
          "id": "text_left",
          "label": "Nội dung Banner Trái",
          "default": "<p>Mô tả banner bên trái</p>"
        },
        {
          "type": "text",
          "id": "button_label_left",
          "label": "Nhãn nút Banner Trái",
          "default": "Xem ngay"
        },
        {
          "type": "url",
          "id": "button_link_left",
          "label": "Liên kết nút Banner Trái"
        },
        {
          "type": "header",
          "content": "Banner Phải"
        },
        {
          "type": "image_picker",
          "id": "banner_image_right",
          "label": "Hình ảnh Banner Phải (Desktop)"
        },
        {
          "type": "image_picker",
          "id": "banner_image_right_mobile",
          "label": "Hình ảnh Banner Phải (Mobile)",
          "info": "Nếu không chọn, sẽ sử dụng hình ảnh desktop"
        },
        {
          "type": "url",
          "id": "banner_link_right",
          "label": "Liên kết Banner Phải"
        },
        {
          "type": "text",
          "id": "heading_right",
          "label": "Tiêu đề Banner Phải",
          "default": "Banner Phải"
        },
        {
          "type": "richtext",
          "id": "text_right",
          "label": "Nội dung Banner Phải",
          "default": "<p>Mô tả banner bên phải</p>"
        },
        {
          "type": "text",
          "id": "button_label_right",
          "label": "Nhãn nút Banner Phải",
          "default": "Xem ngay"
        },
        {
          "type": "url",
          "id": "button_link_right",
          "label": "Liên kết nút Banner Phải"
        },
        {
          "type": "header",
          "content": "Cài đặt chung"
        },
        {
          "type": "checkbox",
          "id": "open_new_tab",
          "label": "Mở liên kết trong tab mới",
          "default": false
        },
        {
          "type": "header",
          "content": "Tùy chỉnh hiển thị"
        },
        {
          "type": "select",
          "id": "text_position",
          "label": "Vị trí text",
          "options": [
            {
              "value": "center",
              "label": "Giữa"
            },
            {
              "value": "left",
              "label": "Trái"
            },
            {
              "value": "right",
              "label": "Phải"
            },
            {
              "value": "top-left",
              "label": "Trên trái"
            },
            {
              "value": "top-right",
              "label": "Trên phải"
            },
            {
              "value": "bottom-left",
              "label": "Dưới trái"
            },
            {
              "value": "bottom-right",
              "label": "Dưới phải"
            }
          ],
          "default": "center"
        },
        {
          "type": "color",
          "id": "text_color",
          "label": "Màu chữ",
          "default": "#ffffff"
        },
        {
          "type": "color",
          "id": "overlay_color",
          "label": "Màu overlay",
          "default": "#000000"
        },
        {
          "type": "range",
          "id": "overlay_opacity",
          "label": "Độ trong suốt overlay",
          "min": 0,
          "max": 100,
          "step": 5,
          "unit": "%",
          "default": 30
        }
      ]
    },
    {
      "type": "slideshow",
      "name": "Slideshow",
      "settings": [
        {
          "type": "header",
          "content": "Slide 1"
        },
        {
          "type": "image_picker",
          "id": "slide1_image_desktop",
          "label": "Hình ảnh Desktop Slide 1"
        },
        {
          "type": "image_picker",
          "id": "slide1_image_mobile",
          "label": "Hình ảnh Mobile Slide 1",
          "info": "Nếu không chọn, sẽ sử dụng hình ảnh desktop"
        },
        {
          "type": "url",
          "id": "slide1_link",
          "label": "Liên kết Slide 1"
        },
        {
          "type": "text",
          "id": "slide1_heading",
          "label": "Tiêu đề Slide 1",
          "default": "Slide đầu tiên"
        },
        {
          "type": "richtext",
          "id": "slide1_text",
          "label": "Nội dung Slide 1",
          "default": "<p>Mô tả cho slide đầu tiên</p>"
        },
        {
          "type": "text",
          "id": "slide1_button_label",
          "label": "Nhãn nút Slide 1",
          "default": "Xem thêm"
        },
        {
          "type": "header",
          "content": "Slide 2"
        },
        {
          "type": "image_picker",
          "id": "slide2_image_desktop",
          "label": "Hình ảnh Desktop Slide 2"
        },
        {
          "type": "image_picker",
          "id": "slide2_image_mobile",
          "label": "Hình ảnh Mobile Slide 2",
          "info": "Nếu không chọn, sẽ sử dụng hình ảnh desktop"
        },
        {
          "type": "url",
          "id": "slide2_link",
          "label": "Liên kết Slide 2"
        },
        {
          "type": "text",
          "id": "slide2_heading",
          "label": "Tiêu đề Slide 2",
          "default": "Slide thứ hai"
        },
        {
          "type": "richtext",
          "id": "slide2_text",
          "label": "Nội dung Slide 2",
          "default": "<p>Mô tả cho slide thứ hai</p>"
        },
        {
          "type": "text",
          "id": "slide2_button_label",
          "label": "Nhãn nút Slide 2",
          "default": "Khám phá"
        },
        {
          "type": "header",
          "content": "Slide 3"
        },
        {
          "type": "image_picker",
          "id": "slide3_image_desktop",
          "label": "Hình ảnh Desktop Slide 3"
        },
        {
          "type": "image_picker",
          "id": "slide3_image_mobile",
          "label": "Hình ảnh Mobile Slide 3",
          "info": "Nếu không chọn, sẽ sử dụng hình ảnh desktop"
        },
        {
          "type": "url",
          "id": "slide3_link",
          "label": "Liên kết Slide 3"
        },
        {
          "type": "text",
          "id": "slide3_heading",
          "label": "Tiêu đề Slide 3",
          "default": "Slide thứ ba"
        },
        {
          "type": "richtext",
          "id": "slide3_text",
          "label": "Nội dung Slide 3",
          "default": "<p>Mô tả cho slide thứ ba</p>"
        },
        {
          "type": "text",
          "id": "slide3_button_label",
          "label": "Nhãn nút Slide 3",
          "default": "Xem thêm"
        },
        {
          "type": "header",
          "content": "Slide 4"
        },
        {
          "type": "image_picker",
          "id": "slide4_image_desktop",
          "label": "Hình ảnh Desktop Slide 4"
        },
        {
          "type": "image_picker",
          "id": "slide4_image_mobile",
          "label": "Hình ảnh Mobile Slide 4",
          "info": "Nếu không chọn, sẽ sử dụng hình ảnh desktop"
        },
        {
          "type": "url",
          "id": "slide4_link",
          "label": "Liên kết Slide 4"
        },
        {
          "type": "text",
          "id": "slide4_heading",
          "label": "Tiêu đề Slide 4",
          "default": "Slide thứ tư"
        },
        {
          "type": "richtext",
          "id": "slide4_text",
          "label": "Nội dung Slide 4",
          "default": "<p>Mô tả cho slide thứ tư</p>"
        },
        {
          "type": "text",
          "id": "slide4_button_label",
          "label": "Nhãn nút Slide 4",
          "default": "Khám phá"
        },
        {
          "type": "header",
          "content": "Slide 5"
        },
        {
          "type": "image_picker",
          "id": "slide5_image_desktop",
          "label": "Hình ảnh Desktop Slide 5"
        },
        {
          "type": "image_picker",
          "id": "slide5_image_mobile",
          "label": "Hình ảnh Mobile Slide 5",
          "info": "Nếu không chọn, sẽ sử dụng hình ảnh desktop"
        },
        {
          "type": "url",
          "id": "slide5_link",
          "label": "Liên kết Slide 5"
        },
        {
          "type": "text",
          "id": "slide5_heading",
          "label": "Tiêu đề Slide 5",
          "default": "Slide thứ năm"
        },
        {
          "type": "richtext",
          "id": "slide5_text",
          "label": "Nội dung Slide 5",
          "default": "<p>Mô tả cho slide thứ năm</p>"
        },
        {
          "type": "text",
          "id": "slide5_button_label",
          "label": "Nhãn nút Slide 5",
          "default": "Xem thêm"
        },
        {
          "type": "header",
          "content": "Slide 6"
        },
        {
          "type": "image_picker",
          "id": "slide6_image_desktop",
          "label": "Hình ảnh Desktop Slide 6"
        },
        {
          "type": "image_picker",
          "id": "slide6_image_mobile",
          "label": "Hình ảnh Mobile Slide 6",
          "info": "Nếu không chọn, sẽ sử dụng hình ảnh desktop"
        },
        {
          "type": "url",
          "id": "slide6_link",
          "label": "Liên kết Slide 6"
        },
        {
          "type": "text",
          "id": "slide6_heading",
          "label": "Tiêu đề Slide 6",
          "default": "Slide thứ sáu"
        },
        {
          "type": "richtext",
          "id": "slide6_text",
          "label": "Nội dung Slide 6",
          "default": "<p>Mô tả cho slide thứ sáu</p>"
        },
        {
          "type": "text",
          "id": "slide6_button_label",
          "label": "Nhãn nút Slide 6",
          "default": "Khám phá"
        },
        {
          "type": "header",
          "content": "Slide 7"
        },
        {
          "type": "image_picker",
          "id": "slide7_image_desktop",
          "label": "Hình ảnh Desktop Slide 7"
        },
        {
          "type": "image_picker",
          "id": "slide7_image_mobile",
          "label": "Hình ảnh Mobile Slide 7",
          "info": "Nếu không chọn, sẽ sử dụng hình ảnh desktop"
        },
        {
          "type": "url",
          "id": "slide7_link",
          "label": "Liên kết Slide 7"
        },
        {
          "type": "text",
          "id": "slide7_heading",
          "label": "Tiêu đề Slide 7",
          "default": "Slide thứ bảy"
        },
        {
          "type": "richtext",
          "id": "slide7_text",
          "label": "Nội dung Slide 7",
          "default": "<p>Mô tả cho slide thứ bảy</p>"
        },
        {
          "type": "text",
          "id": "slide7_button_label",
          "label": "Nhãn nút Slide 7",
          "default": "Xem thêm"
        },
        {
          "type": "header",
          "content": "Cài đặt Slideshow"
        },
        {
          "type": "checkbox",
          "id": "autoplay",
          "label": "Tự động chuyển slide",
          "default": true
        },
        {
          "type": "range",
          "id": "autoplay_speed",
          "min": 3,
          "max": 10,
          "step": 1,
          "unit": "s",
          "label": "Thời gian chuyển slide",
          "default": 5
        },
        {
          "type": "checkbox",
          "id": "show_dots",
          "label": "Hiển thị chấm điều hướng",
          "default": true
        },
        {
          "type": "checkbox",
          "id": "show_arrows",
          "label": "Hiển thị mũi tên điều hướng",
          "default": true
        },
        {
          "type": "checkbox",
          "id": "open_new_tab",
          "label": "Mở liên kết trong tab mới",
          "default": false
        },
        {
          "type": "select",
          "id": "text_position",
          "label": "Vị trí text",
          "options": [
            {
              "value": "center",
              "label": "Giữa"
            },
            {
              "value": "left",
              "label": "Trái"
            },
            {
              "value": "right",
              "label": "Phải"
            },
            {
              "value": "top-left",
              "label": "Trên trái"
            },
            {
              "value": "top-right",
              "label": "Trên phải"
            },
            {
              "value": "bottom-left",
              "label": "Dưới trái"
            },
            {
              "value": "bottom-right",
              "label": "Dưới phải"
            }
          ],
          "default": "center"
        },
        {
          "type": "color",
          "id": "text_color",
          "label": "Màu chữ",
          "default": "#ffffff"
        },
        {
          "type": "color",
          "id": "overlay_color",
          "label": "Màu overlay",
          "default": "#000000"
        },
        {
          "type": "range",
          "id": "overlay_opacity",
          "label": "Độ trong suốt overlay",
          "min": 0,
          "max": 100,
          "step": 5,
          "unit": "%",
          "default": 30
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Mousewheel Collection",
      "blocks": [
        {
          "type": "image"
        },
        {
          "type": "video"
        },
        {
          "type": "banner"
        },
        {
          "type": "slideshow"
        },
        {
          "type": "image"
        }
      ]
    }
  ]
}
{% endschema %}